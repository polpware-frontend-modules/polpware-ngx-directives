{"version":3,"sources":["ng://@polpware/ngx-directives/lib/rest-window-height/rest-window-height.directive.ts","ng://@polpware/ngx-directives/lib/ngx-directives.module.ts"],"names":["RestWindowHeightDirective","el","this","bottomOffset","minHeight","prototype","ngAfterViewInit","computeHeight","onResize","event","nativeElement","bodyRect","document","body","getBoundingClientRect","offset","top","height","window","innerHeight","style","core","ɵɵdirectiveInject","ElementRef","selectors","hostBindings","rf","ctx","$event","ɵɵresolveWindow","PolpNgxDirectivesModule","imports","declarations","exports"],"mappings":"qVAeI,SAAAA,EAAoBC,GAAAC,KAAAD,GAAAA,EAHXC,KAAAC,aAAe,EACfD,KAAAE,UAAY,SAIrBJ,EAAAK,UAAAC,gBAAA,WACIJ,KAAKK,iBAITP,EAAAK,UAAAG,SADA,SACSC,GACLP,KAAKK,iBAGDP,EAAAK,UAAAE,cAAR,WACI,IAAMG,EAAgBR,KAAKD,GAAGS,cAExBC,EAAWC,SAASC,KAAKC,wBAGzBC,EAFSL,EAAcI,wBAELE,IAAML,EAASK,IAInCC,EAFiBC,OAAOC,YAEAJ,EAASb,KAAKC,aAE1Cc,EAAUA,EAASf,KAAKE,UAAaa,EAASf,KAAKE,UAEnDF,KAAKD,GAAGS,cAAcU,MAAMH,OAASA,EAAS,uCA9BzCjB,GAAyBqB,EAAAC,kBAAAD,EAAAE,+CAAzBvB,EAAyBwB,UAAA,CAAA,CAAA,GAAA,uBAAA,KAAAC,aAAA,SAAAC,EAAAC,GAAA,EAAAD,6CAAzBC,EAAAnB,SAAAoB,MAAgB,EAAAP,EAAAQ,iGCP7B,SAAAC,4CAOaA,iEAAAA,IAAuBC,QAAA,CAJvB,4EAIAD,EAAuB,CAAAE,aAAA,CAL5BhC,GAAyBiC,QAAA,CAGnBjC","sourcesContent":["import { Directive, ElementRef, AfterViewInit, Input, HostListener } from '@angular/core';\n\n/**\n * Defines a directive for setting the height of the element in question according \n * to a formula.\n * \n */\n@Directive({\n    selector: '[polpRestWindowHeight]'\n})\nexport class RestWindowHeightDirective implements AfterViewInit {\n\n    @Input() bottomOffset = 0;\n    @Input() minHeight = 0;\n\n    constructor(private el: ElementRef) { }\n\n    ngAfterViewInit() {\n        this.computeHeight();\n    }\n\n    @HostListener('window:resize', ['$event'])\n    onResize(event) {\n        this.computeHeight();\n    }\n\n    private computeHeight() {\n        const nativeElement = this.el.nativeElement;\n\n        const bodyRect = document.body.getBoundingClientRect(),\n            elemRect = nativeElement.getBoundingClientRect();\n\n        const offset = elemRect.top - bodyRect.top;\n\n        const screenHeight = window.innerHeight;\n\n        let height = screenHeight - offset - this.bottomOffset;\n\n        height = (height > this.minHeight) ? height : this.minHeight;\n\n        this.el.nativeElement.style.height = height + 'px';\n    }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { RestWindowHeightDirective } from './rest-window-height/rest-window-height.directive';\n\n@NgModule({\n    declarations: [\n        RestWindowHeightDirective],\n    imports: [\n    ],\n    exports: [RestWindowHeightDirective]\n})\nexport class PolpNgxDirectivesModule { }\n"]}