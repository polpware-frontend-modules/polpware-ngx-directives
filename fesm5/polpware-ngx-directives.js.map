{"version":3,"file":"polpware-ngx-directives.js","sources":["ng://@polpware/ngx-directives/lib/rest-window-height/rest-window-height.directive.ts","ng://@polpware/ngx-directives/lib/ngx-directives.module.ts","ng://@polpware/ngx-directives/public-api.ts","ng://@polpware/ngx-directives/polpware-ngx-directives.ts"],"sourcesContent":["import { Directive, ElementRef, AfterViewInit, Input, HostListener } from '@angular/core';\n\n/**\n * Defines a directive for setting the height of the element in question according \n * to a formula.\n * \n */\n@Directive({\n    selector: '[polpRestWindowHeight]'\n})\nexport class RestWindowHeightDirective implements AfterViewInit {\n\n    @Input() bottomOffset = 0;\n    @Input() minHeight = 0;\n    @Input() fixedHeight = 0;\n    @Input() maxHeight = 0;\n    @Input() topOffset = 0;\n\n    constructor(private el: ElementRef) { }\n\n    ngAfterViewInit() {\n        setTimeout(() => {\n            this.computeHeight();\n        });\n    }\n\n    @HostListener('window:resize', ['$event'])\n    onResize(event) {\n        setTimeout(() => {\n            this.computeHeight();\n        });\n    }\n\n    private computeHeight() {\n        const nativeElement = this.el.nativeElement;\n        // Case 1: fixed Height \n        if (this.maxHeight) {\n            this.el.nativeElement.style.height = this.maxHeight + 'px';\n            return;\n        }\n\n        const bodyRect = document.body.getBoundingClientRect(),\n            elemRect = nativeElement.getBoundingClientRect();\n\n        const offset = elemRect.top - bodyRect.top;\n\n        const screenHeight = window.innerHeight;\n\n        let height = screenHeight - offset - this.bottomOffset - this.topOffset;\n\n        height = (height > this.minHeight) ? height : this.minHeight;\n\n        if (this.maxHeight) {\n            height = (height > this.maxHeight) ? this.maxHeight : height;\n        }\n\n        this.el.nativeElement.style.height = height + 'px';\n    }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { RestWindowHeightDirective } from './rest-window-height/rest-window-height.directive';\n\n@NgModule({\n    declarations: [\n        RestWindowHeightDirective],\n    imports: [\n    ],\n    exports: [RestWindowHeightDirective]\n})\nexport class PolpNgxDirectivesModule { }\n","/*\n * Public API Surface of ngx-directives\n */\n\nexport * from './lib/rest-window-height/rest-window-height.directive';\nexport * from './lib/ngx-directives.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;AAEA;;;;;;IAgBI,mCAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;QANzB,iBAAY,GAAG,CAAC,CAAC;QACjB,cAAS,GAAG,CAAC,CAAC;QACd,gBAAW,GAAG,CAAC,CAAC;QAChB,cAAS,GAAG,CAAC,CAAC;QACd,cAAS,GAAG,CAAC,CAAC;KAEgB;IAEvC,mDAAe,GAAf;QAAA,iBAIC;QAHG,UAAU,CAAC;YACP,KAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC,CAAC;KACN;IAGD,4CAAQ,GADR,UACS,KAAK;QADd,iBAKC;QAHG,UAAU,CAAC;YACP,KAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC,CAAC;KACN;IAEO,iDAAa,GAArB;QACI,IAAM,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;;QAE5C,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAC3D,OAAO;SACV;QAED,IAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,EAClD,QAAQ,GAAG,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAErD,IAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC;QAE3C,IAAM,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;QAExC,IAAI,MAAM,GAAG,YAAY,GAAG,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC;QAExE,MAAM,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;QAE7D,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,MAAM,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;SAChE;QAED,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;KACtD;sGA/CQ,yBAAyB;+DAAzB,yBAAyB;+GAAzB,oBAAgB;;oCAV7B;CAOA,IAqDC;+CAlDY,yBAAyB;cAHrC,SAAS;eAAC;gBACP,QAAQ,EAAE,wBAAwB;aACrC;;kBAGI,KAAK;;kBACL,KAAK;;kBACL,KAAK;;kBACL,KAAK;;kBACL,KAAK;;kBAUL,YAAY;mBAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;;;ICvB7C;KAOwC;4DAA3B,uBAAuB;8HAAvB,uBAAuB,kBAJvB,EACR;kCAPL;CAGA,IAOwC;qFAA3B,uBAAuB,mBAL5B,yBAAyB,aAGnB,yBAAyB;+CAE1B,uBAAuB;cAPnC,QAAQ;eAAC;gBACN,YAAY,EAAE;oBACV,yBAAyB;iBAAC;gBAC9B,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,yBAAyB,CAAC;aACvC;;;ACTD;;;;ACAA;;;;;;"}